# Test Configuration - Analysis-Driven Architecture
# =============================================================================

# Directory paths (will be overridden in tests to use temp dirs)
paths:
  output_dir: outputs/extracted_json
  analysis_dir: outputs/analysis

# Scraping settings (fast settings for testing)
scraping:
  headless: true              # Always headless in tests
  timeout_seconds: 15         # Reduced timeout for faster tests
  delay_between_requests: 1.0 # Minimal delay for testing
  save_extracted_json: false  # Disable JSON saving for faster tests

# Analysis definitions - minimal setup for testing
analyses:
  holdings:
    enabled: true
    data_requirements:
      scraping_strategy: categories    # Strategy: how data is organized
      scraper_type: api 
      categories:
        largeCap:
          - https://coin.zerodha.com/mf/fund/INF204K01XI3/nippon-india-large-cap-fund-direct-growth
        midCap:
          - https://coin.zerodha.com/mf/fund/INF179K01XQ0/hdfc-mid-cap-fund-direct-growth
    params:
      max_holdings: 10                # Test with standard 10 holdings
      max_companies_in_results: 20
      max_sample_funds_per_company: 5
      exclude_from_analysis:
        - "TREPS"        # Treasury Repo
        - "CASH"         # Cash holdings  
        - "T-BILLS"      # Treasury Bills
        - "REVERSE REPO" # Reverse Repo
  portfolio:          # Key IS the analyzer type (matches @register_analyzer)
    enabled: true
    data_requirements:
      scraping_strategy: targeted_funds   # Strategy: how data is organized
      scraper_type: api
      funds:
        - units: 1000
          url: https://coin.zerodha.com/mf/fund/INF204K01XI3/nippon-india-large-cap-fund-direct-growth
        - units: 500
          url: https://coin.zerodha.com/mf/fund/INF179K01XQ0/hdfc-mid-cap-fund-direct-growth
    params:
      max_holdings: 50                  # Portfolio analysis needs more detailed holdings
      chart_top_n: 20